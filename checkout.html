<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xander | Checkout</title>
<style>
body { font-family: 'Poppins', sans-serif; padding: 30px; background: #f5f5f5; }
button { padding: 10px 20px; background: #4caf50; color: white; border: none; border-radius: 5px; cursor:pointer; }
</style>
</head>
<body>

<h2>Checkout</h2>
<p>Total: $<span id="totalPrice">100</span></p>
<button id="placeOrderBtn">Place Order</button>

<script>
// Example total (replace with your cart total logic)
const totalPrice = 100;
document.getElementById('totalPrice').textContent = totalPrice;

// Make sure currentUser is set
if (!localStorage.getItem('currentUser')) {
  localStorage.setItem('currentUser', 'Sithum'); // Example user
}

document.getElementById('placeOrderBtn').addEventListener('click', () => {
  const currentUser = localStorage.getItem('currentUser');

  // Get existing orders
  let allOrders = JSON.parse(localStorage.getItem('allOrders') || '[]');

  // Add new order
  const newOrder = {
    customer: currentUser,
    total: totalPrice,
    status: 'Processing',
    statusStep: 0,
    timestamp: new Date().toISOString()
  };
  allOrders.push(newOrder);

  // Save back to localStorage
  localStorage.setItem('allOrders', JSON.stringify(allOrders));

  alert('Order placed successfully!');
});
</script>

</body>
</html>
