<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sign Up | Xander</title>
<script type="module" src="firebase-config.js"></script>
<style>
    body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(270deg, #00c6ff, #0072ff, #9face6);
    background-size: 600% 600%;
    animation: gradientBG 15s ease infinite;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  @keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  .box {
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(10px);
    padding: 25px;
    border-radius: 15px;
    width: 320px;
    text-align: center;
    color: white;
  }
  .box h2 { margin-bottom: 20px; }
  .box input {
    width: 100%; padding: 10px; margin: 8px 0;
    border-radius: 8px; border: none; outline: none;
  }
  .box button {
    width: 100%; padding: 10px; background: #fff; color: #333;
    border: none; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 10px;
  }
  .box button:hover { background: #ffdfdf; }
  .box a { color: #fff; font-weight: 600; text-decoration: none; }
</style>
</head>
<body>
<h2>Sign Up</h2>
<form id="signupForm">
  <input type="text" placeholder="Username" id="username" required /><br/>
  <input type="email" placeholder="Email" id="email" required /><br/>
  <input type="password" placeholder="Password" id="password" required /><br/>
  <button type="submit">Sign Up</button>
</form>
<p>Already have an account? <a href="signin.html">Sign In</a></p>

<script type="module">
import { auth } from './firebase-config.js';
import { createUserWithEmailAndPassword, updateProfile } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

const form = document.getElementById('signupForm');
form.addEventListener('submit', async e=>{
  e.preventDefault();
  const username = document.getElementById('username').value;
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;

  try{
    const userCredential = await createUserWithEmailAndPassword(auth,email,password);
    await updateProfile(userCredential.user,{displayName: username});
    localStorage.setItem('username',username);
    localStorage.setItem('email',email);
    alert('Sign Up successful!');
    window.location.href='index.html';
  }catch(error){
    alert(error.message);
  }
});
</script>
</body>
</html>
