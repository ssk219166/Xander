<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xander | Payment Gateway</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{
  background:linear-gradient(270deg,#ff758c,#ff7eb3,#9face6);
  background-size:600% 600%;
  animation:gradientBG 15s ease infinite;
  color:#fff;
}
@keyframes gradientBG{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

header{
  display:flex;justify-content:space-between;align-items:center;
  padding:15px 40px;
  background:rgba(0,0,0,0.4);
  backdrop-filter:blur(10px);
  position:sticky;top:0;z-index:1000;
}
header h1{font-size:1.8rem;font-weight:700;}
nav a{
  margin:0 15px;text-decoration:none;color:#fff;font-weight:500;position:relative;
}
nav a::after{
  content:'';position:absolute;width:0;height:2px;bottom:-5px;left:0;
  background:#fff;transition:width 0.3s;
}
nav a:hover::after{width:100%;}

.profile-btn{
  background:#fff;color:#333;border-radius:50%;width:40px;height:40px;
  display:flex;align-items:center;justify-content:center;
  font-weight:bold;cursor:pointer;
  box-shadow:0 4px 8px rgba(0,0,0,0.2);
  transition:transform 0.3s;
}
.profile-btn:hover{transform:scale(1.1);}

main{
  padding:30px;max-width:800px;margin:30px auto;
  background:rgba(255,255,255,0.15);backdrop-filter:blur(10px);
  border-radius:20px;box-shadow:0 8px 20px rgba(0,0,0,0.3);
}
h2{text-align:center;margin-bottom:20px;}

.payment-option{
  background:#fff;color:#333;padding:18px;border-radius:14px;
  margin:12px 0;cursor:pointer;
  display:flex;align-items:center;justify-content:space-between;
  transition:0.3s; font-weight:600;
}
.payment-option:hover{
  background:#ffe6f0;transform:scale(1.02);
}
.payment-option.selected{
  border:3px solid #ff2b78;background:#fff0f5;
}

button.pay-now{
  width:100%;padding:15px;border:none;border-radius:30px;
  background:#fff;color:#333;font-weight:700;font-size:1.1rem;
  cursor:pointer;transition:0.3s;margin-top:25px;
}
button.pay-now:hover{background:#ffdfdf;}

#confirmation{
  margin-top:25px;text-align:center;display:none;
  background:rgba(0,0,0,0.35);padding:20px;border-radius:15px;
}
#confirmation h3{
  margin-bottom:10px;color:#00ff88;font-size:1.4rem;
}
</style>
</head>
<body>

<header>
  <h1>Xander</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="shop.html">Shop</a>
    <a href="cart.html">Cart</a>
    <a href="profile.html">Profile</a>
  </nav>
  <div style="display:flex;align-items:center;gap:10px;">
    <span id="cart-count">üõí 0</span>
    <div class="profile-btn" onclick="window.location.href='profile.html'">U</div>
  </div>
</header>

<main>
  <h2>Choose a Payment Method</h2>

  <!-- BEST GLOBAL GATEWAYS -->
  <div class="payment-option" onclick="selectPayment(this,'PayPal')">
    <span>PayPal</span><span>üÖøÔ∏è</span>
  </div>

  <div class="payment-option" onclick="selectPayment(this,'Stripe')">
    <span>Stripe (Card Payments)</span><span>üí≥</span>
  </div>

  <div class="payment-option" onclick="selectPayment(this,'Apple/Google Pay')">
    <span>Apple Pay / Google Pay</span><span>üì±</span>
  </div>

  <!-- SRI LANKA PAYMENT OPTION -->
  <div class="payment-option" onclick="selectPayment(this,'EzyCash')">
    <span>EZY Cash (Sri Lanka)</span><span>üì≤üí∞</span>
  </div>

  <!-- ADDITIONAL OPTIONS -->
  <div class="payment-option" onclick="selectPayment(this,'Bank Transfer')">
    <span>Direct Bank Transfer</span><span>üè¶</span>
  </div>

  <div class="payment-option" onclick="selectPayment(this,'Cash on Delivery')">
    <span>Cash on Delivery</span><span>üíµ</span>
  </div>

  <div class="payment-option" onclick="selectPayment(this,'Crypto')">
    <span>Crypto Payment (USDT / BTC)</span><span>ü™ô</span>
  </div>

  <button class="pay-now" onclick="payNow()">Pay Now</button>

  <div id="confirmation">
    <h3>‚úÖ Payment Successful!</h3>
    <p>Your order has been placed securely.</p>
    <button onclick="window.location.href='trackorder.html'">View My Orders</button>
  </div>
</main>

<script>

// Profile Initials
function loadProfileInitial(){
  const name = localStorage.getItem('username') || 'U';
  document.querySelector('.profile-btn').textContent = name.charAt(0).toUpperCase();
}

// Cart Count
function updateCartCount(){
  const cart = JSON.parse(localStorage.getItem('cart') || '[]');
  document.getElementById('cart-count').textContent = `üõí ${cart.length}`;
}
loadProfileInitial();
updateCartCount();

// Select Payment
let selectedPayment = null;
function selectPayment(el, method){
  selectedPayment = method;
  document.querySelectorAll('.payment-option').forEach(item => item.classList.remove('selected'));
  el.classList.add('selected');
}

// Pay Now
function payNow(){
  if(!selectedPayment){
    alert('Please select a payment method!');
    return;
  }

  const cart = JSON.parse(localStorage.getItem('cart') || '[]');
  if(cart.length === 0){
    alert('Your cart is empty!');
    return;
  }

  // Save order
  let pastOrders = JSON.parse(localStorage.getItem('pastOrders') || '[]');
  pastOrders = pastOrders.concat(cart);
  localStorage.setItem('pastOrders', JSON.stringify(pastOrders));

  // Clear cart
  localStorage.setItem('cart', JSON.stringify([]));
  updateCartCount();

  // Confirmation
  document.getElementById('confirmation').style.display = 'block';
}
</script>

</body>
</html>
